:root {
  --bg: #0b1220; --surface:#111a2b; --surface-2:#0e1726; --text:#edf2ff; --muted:#a5b3d6;
  --brand:#6ee7ff; --brand-2:#7c4dff; --ok:#3ddc97; --warn:#ffb020; --stroke: rgba(255,255,255,0.08);
}
@media (prefers-color-scheme: light){
  :root{ --bg:#f6f8ff; --surface:#ffffff; --surface-2:#f1f5ff; --text:#0e1726; --muted:#4b5563; --stroke:rgba(0,0,0,0.08); }
}
@keyframes float { 0%{transform:translateY(0)} 50%{transform:translateY(-6px)} 100%{transform:translateY(0)} }
@keyframes glow { 0%{opacity:.25; filter:blur(20px)} 50%{opacity:.5; filter:blur(28px)} 100%{opacity:.25; filter:blur(20px)} }
@keyframes fadeUp { from{opacity:0; transform:translateY(12px)} to{opacity:1; transform:translateY(0)} }

.page{box-sizing:border-box}
.page *{box-sizing:border-box}
.page body{margin:0}
.page{ background:var(--bg); color:var(--text); min-height:100dvh; font-family: system-ui, -apple-system, Segoe UI, Roboto, Ubuntu, Cantarell, Noto Sans, sans-serif; padding-top: 7rem; }
.hero{ position:relative; padding:56px 20px 28px; overflow:hidden; }
.heroGlow{ position:absolute; inset:-20%; background: radial-gradient(600px 240px at 10% 10%, var(--brand), transparent 60%), radial-gradient(600px 240px at 90% 20%, var(--brand-2), transparent 60%); animation: glow 6s ease-in-out infinite; pointer-events:none; }
.heroContent{ position:relative; max-width:1100px; margin:0 auto; animation: fadeUp .6s ease-out both; }
.title{ font-size: clamp(28px, 3vw, 44px); line-height:1.1; margin:0 0 6px; }
.subtitle{ margin:0 0 14px; color:var(--muted) }
.badges{ display:flex; flex-wrap:wrap; gap:8px }
.badgeGenre, .badgeTag{ padding:6px 10px; border-radius:999px; border:1px solid var(--stroke); background: linear-gradient(180deg, var(--surface), var(--surface-2)); box-shadow: 0 1px 0 var(--stroke) inset; }
.badgeGenre{ color: var(--brand) }
.badgeTag{ color: var(--brand-2) }

.meta{ display:grid; grid-template-columns: 1.5fr .8fr; gap:16px; max-width:1100px; margin:0 auto; padding: 0 20px 8px; }
.card{ background: linear-gradient(180deg, var(--surface), var(--surface-2)); border:1px solid var(--stroke); border-radius:16px; padding:18px; animation: fadeUp .5s ease-out both; }
.metaList{ list-style:none; padding:0; margin:14px 0 0; display:grid; gap:6px; color:var(--muted) }
.metaList span{ color:var(--text) }
.progressBar{ height:12px; border-radius:999px; background: #091120; border:1px solid var(--stroke); overflow:hidden }
.progressFill{ height:100%; background: linear-gradient(90deg, var(--brand), var(--brand-2)); width:0; transition:width .6s ease }
.progressText{ margin:.5rem 0 0; color:var(--muted) }

.toolbar{ max-width:1100px; margin:8px auto 0; padding: 0 20px 18px; display:flex; gap:12px; flex-wrap:wrap; align-items:center }
.searchBox{ position:relative; flex:1 }
.input{ width:100%; padding:12px 36px 12px 14px; border-radius:12px; border:1px solid var(--stroke); background:var(--surface); color:var(--text) }
.input:focus{ outline:none; box-shadow:0 0 0 3px rgba(110,231,255,.35) }
.searchIcon{ position:absolute; right:12px; top:50%; transform:translateY(-50%); opacity:.7 }
.switch{ display:flex; align-items:center; gap:8px; padding:8px 12px; border:1px solid var(--stroke); border-radius:12px; background:var(--surface) }
.select{ padding:10px 12px; border-radius:12px; border:1px solid var(--stroke); background:var(--surface); color:var(--text) }

.chapterGrid{ max-width:1100px; margin:0 auto; padding: 0 20px 50px; display:grid; grid-template-columns: repeat(auto-fill, minmax(280px, 1fr)); gap:14px }
.chapterCard{ background: linear-gradient(180deg, var(--surface), var(--surface-2)); border:1px solid var(--stroke); border-radius:16px; padding:14px; transition: transform .2s ease, box-shadow .2s ease, border-color .2s ease; animation: fadeUp .4s ease-out both; outline:none; }
.chapterCard:hover, .chapterCard:focus{ transform: translateY(-4px); box-shadow:0 10px 30px rgba(0,0,0,.25); border-color: #2a8db0; }
.chapterCard[data-published="true"]{ border-color: #2dbf93; }
.chapterHeader{ display:grid; grid-template-columns:auto 1fr auto; align-items:center; gap:10px }
.chNumber{ font-weight:700; color:var(--brand-2) }
.chTitle{ margin:0; font-size:1.05rem }
.badgeOk, .badgeDraft{ padding:4px 8px; border-radius:999px; font-size:.8rem; border:1px solid var(--stroke) }
.badgeOk{ background: rgba(61,220,151,.2); color:#3ddc97 }
.badgeDraft{ background: rgba(255,176,32,.2); color:#ffb020 }
.chSummary{ color:var(--muted); margin:.5rem 0 .75rem }
.chFooter{ display:flex; align-items:center; justify-content:space-between; gap:8px }
.date{ color:var(--muted) }
.pending{ color:var(--warn) }
.btnGhost{ padding:8px 12px; background:transparent; border:1px solid var(--stroke); border-radius:10px; color:var(--text); cursor:pointer; transition: background .2s ease, transform .15s ease; }
.btnGhost:hover{ background: rgba(110,231,255,.1) }
.btnGhost:active{ transform: translateY(1px) }
.empty{ grid-column:1/-1; text-align:center; color:var(--muted); padding:40px; border:1px dashed var(--stroke); border-radius:16px }
@media (max-width: 860px){ .meta{ grid-template-columns: 1fr } }
.chapterCard:hover .chTitle{ animation: float 3s ease-in-out infinite }

.topBar{ display:flex; align-items:center; gap:8px; padding:10px 14px; background:var(--surface); border-bottom:1px solid var(--stroke) }
.topLabel{ color:var(--muted) }
.topSelect{ padding:8px 10px; border-radius:10px; background:var(--surface-2); color:var(--text); border:1px solid var(--stroke) }

/* Chip editor */
.editRow{ margin-top:18px }
.editTitle{ margin: 0 0 8px 0 }
.chips{ display:flex; flex-wrap:wrap; gap:8px; margin-bottom:8px }
.chip{ display:inline-flex; align-items:center; gap:6px; padding:6px 10px; border-radius:999px; border:1px solid var(--stroke); background: linear-gradient(180deg, var(--surface), var(--surface-2)); }
.genreChip{ color: var(--brand) }
.tagChip{ color: var(--brand-2) }
.chipRemove{ cursor:pointer; opacity:.8; border: none; background:transparent; color:inherit; }
.chipRemove:hover{ opacity:1 }
.chipInput{ width:100%; max-width:280px; padding:10px 12px; border-radius:12px; border:1px solid var(--stroke); background:var(--surface); color:var(--text) }
.note{ color:var(--muted); margin-top:8px; font-size:.925rem }
